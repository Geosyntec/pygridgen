

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The pygridgen API &mdash; pygridgen 0.2.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pygridgen 0.2.0 documentation" href="../index.html"/>
        <link rel="next" title="The csa API" href="csa.html"/>
        <link rel="prev" title="Examples from the gridgen-c library" href="../tutorial/gridgen_examples.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> pygridgen</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/conda.html">Installation via conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/build_linux.html">Linux: Building from source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/build_linux.html#basic-linux-stuff">Basic linux stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_linux.html#getting-miniconda-and-creating-an-environment">Getting miniconda and creating an environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_linux.html#cloning-dependencies-from-github">Cloning dependencies from github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_linux.html#building-c-c-dependencies">Building C/C++ dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_linux.html#install-pygridgen">Install pygridgen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/build_osx.html">Mac OS X: building from source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/build_osx.html#basic-stuff">Basic stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_osx.html#getting-miniconda-and-creating-an-environment">Getting miniconda and creating an environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_osx.html#cloning-dependencies-from-github">Cloning dependencies from github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_osx.html#building-c-c-dependencies">Building C/C++ dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/build_osx.html#install-pygridgen">Install pygridgen</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/basics.html">Basic grid generation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/basics.html#side-channels-using">Side channels: using <span class="math">\(\beta = -1\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/basics.html#using-focus">Using focus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/basics.html#on-the-upper-left-index-parameter">On the upper left index parameter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/gridgen_examples.html">Examples from the gridgen-c library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gridgen_examples.html#sensitivity-to">Sensitivity to <span class="math">\(\beta\)</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gridgen_examples.html#basic-estuary">Basic Estuary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gridgen_examples.html#these-are-just-weird">These are just weird</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">The <cite>pygridgen</cite> API</a></li>
<li class="toctree-l1"><a class="reference internal" href="csa.html">The <cite>csa</cite> API</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">pygridgen</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>The <cite>pygridgen</cite> API</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/api/grid.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="module-pygridgen.grid">
<span id="the-pygridgen-api"></span><span id="grid-auto"></span><h1>The <cite>pygridgen</cite> API<a class="headerlink" href="#module-pygridgen.grid" title="Permalink to this headline">¶</a></h1>
<p>Tools for creating curvilinear grids using gridgen by Pavel Sakov</p>
<dl class="class">
<dt id="pygridgen.grid.Focus">
<em class="property">class </em><code class="descclassname">pygridgen.grid.</code><code class="descname">Focus</code><span class="sig-paren">(</span><em>*foci</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#Focus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.Focus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Return a container for a sequence of Focus objects.</p>
<p>The sequence is populated by using <a class="reference internal" href="#pygridgen.grid.Focus.add_focus" title="pygridgen.grid.Focus.add_focus"><code class="xref py py-meth docutils literal"><span class="pre">add_focus()</span></code></a>, which defines
a point (<code class="docutils literal"><span class="pre">xo</span></code> or <code class="docutils literal"><span class="pre">yo</span></code>), around which the grid is focused by a
<cite>factor</cite> for the provided <code class="docutils literal"><span class="pre">extent</span></code> in the along the given
<code class="docutils literal"><span class="pre">axis</span></code>. The region of focusing will be approximately Gaussian,
and the resolution will be increased by approximately the value of
<code class="docutils literal"><span class="pre">factor</span></code>.</p>
<p>Calls to the object return transformed coordinates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xf</span><span class="p">,</span> <span class="n">yf</span> <span class="o">=</span> <span class="n">foc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>where <cite>x</cite> and <cite>y</cite> must be within [0, 1], and are typically a
uniform, normalized grid. The focused grid will be the result of
applying each of the focus elements in the sequence they are added
to the series.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">foc</span> <span class="o">=</span> <span class="n">pygridgen</span><span class="o">.</span><span class="n">Focus</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foc</span><span class="o">.</span><span class="n">add_focus</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="mf">0.20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foc</span><span class="o">.</span><span class="n">add_focus</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="mf">0.35</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">3j</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">3j</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xf</span><span class="p">,</span> <span class="n">yf</span> <span class="o">=</span> <span class="n">foc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">xf</span><span class="p">)</span>
<span class="go">[[ 0.          0.          0.        ]</span>
<span class="go"> [ 0.36594617  0.36594617  0.36594617]</span>
<span class="go"> [ 1.          1.          1.        ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">yf</span><span class="p">)</span>
<span class="go">[[ 0.          0.62479833  1.        ]</span>
<span class="go"> [ 0.          0.62479833  1.        ]</span>
<span class="go"> [ 0.          0.62479833  1.        ]]</span>
</pre></div>
</div>
<dl class="method">
<dt id="pygridgen.grid.Focus.add_focus">
<code class="descname">add_focus</code><span class="sig-paren">(</span><em>pos</em>, <em>axis</em>, <em>factor=2.0</em>, <em>extent=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#Focus.add_focus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.Focus.add_focus" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a single point of focus along an axis.</p>
<p>This adds a focused location to a grid and can be called multiple
times in either the x- or y-direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pos</strong> : float</p>
<blockquote>
<div><p>Relative position within the grid of the focus. This must
be in the range [0, 1]</p>
</div></blockquote>
<p><strong>axis</strong> : string (&#8216;x&#8217; or &#8216;y&#8217;)</p>
<blockquote>
<div><p>Axis along which the grid will be focused.</p>
</div></blockquote>
<p><strong>factor</strong> : float</p>
<blockquote>
<div><p>Amount to focus grid. Creates cell sizes that are factor
smaller (factor &gt; 1) or larger (factor &lt; 1) in the focused
region.</p>
</div></blockquote>
<p><strong>extent</strong> : float</p>
<blockquote class="last">
<div><p>Lateral extent of focused region.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pygridgen.grid.CGrid">
<em class="property">class </em><code class="descclassname">pygridgen.grid.</code><code class="descname">CGrid</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#CGrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.CGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Curvilinear Arakawa C-Grid.</p>
<p>The basis for the CGrid class are two arrays defining the verticies
of the grid in Cartesian (for geographic coordinates, see
<a class="reference internal" href="#pygridgen.grid.CGrid_geo" title="pygridgen.grid.CGrid_geo"><code class="xref py py-class docutils literal"><span class="pre">CGrid_geo</span></code></a>). An optional mask may be defined on the cell
centers. Other Arakawa C-grid properties, such as the locations of
the cell centers (<em>rho</em>-points), cell edges (<em>u</em> and <em>v</em> velocity
points), cell widths (<em>dx</em> and <em>dy</em>) and other metrics (<em>angle</em>,
<em>dmde</em>, and <em>dndx</em>) are all calculated internally from the vertex
points.</p>
<p>Input vertex arrays may be either masked or regular numpy arrays.
If masked arrays are used, the mask will be a combination of the
specified mask (if given) and the masked locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x, y</strong> : numpy.ndarray</p>
<blockquote class="last">
<div><p>Arrays of the x/y vertex/node positions</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pygridgen</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mf">0.0</span><span class="p">:</span><span class="mf">7.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">:</span><span class="mf">8.0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked_where</span><span class="p">((</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">MaskedArray</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">mask</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grd</span> <span class="o">=</span> <span class="n">pygridgen</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">CGrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">grd</span><span class="o">.</span><span class="n">x_rho</span><span class="p">)</span>
<span class="go">[[-- -- -- 0.5 0.5 0.5 0.5]</span>
<span class="go"> [-- -- -- 1.5 1.5 1.5 1.5]</span>
<span class="go"> [-- -- -- 2.5 2.5 2.5 2.5]</span>
<span class="go"> [3.5 3.5 3.5 3.5 3.5 3.5 3.5]</span>
<span class="go"> [4.5 4.5 4.5 4.5 4.5 4.5 4.5]</span>
<span class="go"> [5.5 5.5 5.5 5.5 5.5 5.5 5.5]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">grd</span><span class="o">.</span><span class="n">mask</span><span class="p">)</span>
<span class="go">[[ 0.  0.  0.  1.  1.  1.  1.]</span>
<span class="go"> [ 0.  0.  0.  1.  1.  1.  1.]</span>
<span class="go"> [ 0.  0.  0.  1.  1.  1.  1.]</span>
<span class="go"> [ 1.  1.  1.  1.  1.  1.  1.]</span>
<span class="go"> [ 1.  1.  1.  1.  1.  1.  1.]</span>
<span class="go"> [ 1.  1.  1.  1.  1.  1.  1.]]</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pygridgen.grid.CGrid.x">
<code class="descname">x</code><a class="headerlink" href="#pygridgen.grid.CGrid.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x-coordinate of the grid vertices (a.k.a. nodes)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.y">
<code class="descname">y</code><a class="headerlink" href="#pygridgen.grid.CGrid.y" title="Permalink to this definition">¶</a></dt>
<dd><p>y-coordinate of the grid vertices (a.k.a. nodes)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.mask">
<code class="descname">mask</code><a class="headerlink" href="#pygridgen.grid.CGrid.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask for the cells (same as mask_rho)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.x_rho">
<code class="descname">x_rho</code><a class="headerlink" href="#pygridgen.grid.CGrid.x_rho" title="Permalink to this definition">¶</a></dt>
<dd><p>x-coordinates of cell centroids</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.y_rho">
<code class="descname">y_rho</code><a class="headerlink" href="#pygridgen.grid.CGrid.y_rho" title="Permalink to this definition">¶</a></dt>
<dd><p>y-coordinates of cell centroids</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.mask_rho">
<code class="descname">mask_rho</code><a class="headerlink" href="#pygridgen.grid.CGrid.mask_rho" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the mask for the cells</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.x_u">
<code class="descname">x_u</code><a class="headerlink" href="#pygridgen.grid.CGrid.x_u" title="Permalink to this definition">¶</a></dt>
<dd><p>x-coordinate of u-point (leading edge in i-direction?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.y_u">
<code class="descname">y_u</code><a class="headerlink" href="#pygridgen.grid.CGrid.y_u" title="Permalink to this definition">¶</a></dt>
<dd><p>y-coordinate of u-point (leading edge in i-direction?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.mask_u">
<code class="descname">mask_u</code><a class="headerlink" href="#pygridgen.grid.CGrid.mask_u" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask for the u-points</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.x_v">
<code class="descname">x_v</code><a class="headerlink" href="#pygridgen.grid.CGrid.x_v" title="Permalink to this definition">¶</a></dt>
<dd><p>x-coordinate of y-point (leading edge in j-direction?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.y_v">
<code class="descname">y_v</code><a class="headerlink" href="#pygridgen.grid.CGrid.y_v" title="Permalink to this definition">¶</a></dt>
<dd><p>y-coordinate of y-point (leading edge in j-direction?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.mask_v">
<code class="descname">mask_v</code><a class="headerlink" href="#pygridgen.grid.CGrid.mask_v" title="Permalink to this definition">¶</a></dt>
<dd><p>mask for the v-points</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.x_psi">
<code class="descname">x_psi</code><a class="headerlink" href="#pygridgen.grid.CGrid.x_psi" title="Permalink to this definition">¶</a></dt>
<dd><p>x-coordinate of the anchor node for each cell? (upper left?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.y_psi">
<code class="descname">y_psi</code><a class="headerlink" href="#pygridgen.grid.CGrid.y_psi" title="Permalink to this definition">¶</a></dt>
<dd><p>y-coordinate of the anchor node for each cell? (upper left?)</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.mask_psi">
<code class="descname">mask_psi</code><a class="headerlink" href="#pygridgen.grid.CGrid.mask_psi" title="Permalink to this definition">¶</a></dt>
<dd><p>mask for the psi-points</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.dx">
<code class="descname">dx</code><a class="headerlink" href="#pygridgen.grid.CGrid.dx" title="Permalink to this definition">¶</a></dt>
<dd><p>dimension of cell in x-direction?</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.pm">
<code class="descname">pm</code><a class="headerlink" href="#pygridgen.grid.CGrid.pm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.dy">
<code class="descname">dy</code><a class="headerlink" href="#pygridgen.grid.CGrid.dy" title="Permalink to this definition">¶</a></dt>
<dd><p>dimension of cell in y-direction?</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.pn">
<code class="descname">pn</code><a class="headerlink" href="#pygridgen.grid.CGrid.pn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.dndx">
<code class="descname">dndx</code><a class="headerlink" href="#pygridgen.grid.CGrid.dndx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.dmde">
<code class="descname">dmde</code><a class="headerlink" href="#pygridgen.grid.CGrid.dmde" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.angle">
<code class="descname">angle</code><a class="headerlink" href="#pygridgen.grid.CGrid.angle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.angle_rho">
<code class="descname">angle_rho</code><a class="headerlink" href="#pygridgen.grid.CGrid.angle_rho" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid.orthogonality">
<code class="descname">orthogonality</code><a class="headerlink" href="#pygridgen.grid.CGrid.orthogonality" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate orthogonality error in radians</p>
</dd></dl>

<dl class="method">
<dt id="pygridgen.grid.CGrid.calculate_orthogonality">
<code class="descname">calculate_orthogonality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#CGrid.calculate_orthogonality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.CGrid.calculate_orthogonality" title="Permalink to this definition">¶</a></dt>
<dd><p>Should deprecate in favor of property <code class="docutils literal"><span class="pre">orthogonality</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pygridgen.grid.CGrid.mask_polygon">
<code class="descname">mask_polygon</code><span class="sig-paren">(</span><em>polyverts</em>, <em>mask_value=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#CGrid.mask_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.CGrid.mask_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask Cartesian points contained within the polygon defined by
<code class="docutils literal"><span class="pre">polyverts</span></code>.</p>
<p>A cell is masked if the cell center (<cite>x_rho</cite>, <cite>y_rho</cite>) is within
the polygon. Other sub-masks (<cite>mask_u</cite>, <cite>mask_v</cite>, and <cite>mask_psi</cite>)
are updated automatically.</p>
<p>A <cite>mask_value=False</cite> may be specified to alter the value of the
mask set within the polygon (e.g., <cite>mask_value=True</cite> for water
points)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>polyverts</strong> : sequence of 2-tuples or numpy array (N, x)</p>
<blockquote>
<div><p>The x/y coordinates of the polygon used to mask the grid.</p>
</div></blockquote>
<p><strong>mask_value</strong> : bool, optional (default = False)</p>
<blockquote class="last">
<div><p>The value of the mask to be set for cells whose centroids
are inside the polygon.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pygridgen.grid.CGrid_geo">
<em class="property">class </em><code class="descclassname">pygridgen.grid.</code><code class="descname">CGrid_geo</code><span class="sig-paren">(</span><em>lon</em>, <em>lat</em>, <em>proj</em>, <em>use_gcdist=True</em>, <em>ellipse='WGS84'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#CGrid_geo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.CGrid_geo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygridgen.grid.CGrid" title="pygridgen.grid.CGrid"><code class="xref py py-class docutils literal"><span class="pre">pygridgen.grid.CGrid</span></code></a></p>
<p>Curvilinear Arakawa C-grid defined in geographic coordinates.</p>
<p>For a geographic grid, the cell widths are determined by the great
circle distances. Angles, however, are defined using the projected
coordinates, so a projection that conserves angles must be used.
This means typically either Mercator (projection=&#8217;merc&#8217;) or Lambert
Conformal Conic (projection=&#8217;lcc&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lon, lat</strong> : numpy.ndarrays</p>
<blockquote>
<div><p>Array of grid vertex/node positions in decimal degrees (i.e.,
longitude and latitude).</p>
</div></blockquote>
<p><strong>proj</strong> : pyproj.Proj</p>
<blockquote>
<div><p>A projection object that can translate <code class="docutils literal"><span class="pre">lon</span></code> and <code class="docutils literal"><span class="pre">lat</span></code> into
Cartesian coordinates.</p>
</div></blockquote>
<p><strong>use_gcdist</strong> : bool, optional (default = True)</p>
<blockquote>
<div><p>Toggles the use of great circle distances when computing cell
dimensions.</p>
</div></blockquote>
<p><strong>ellipse</strong> : str, optional (default = &#8216;WGS84&#8217;)</p>
<blockquote class="last">
<div><p>The ellipsoid reference for <code class="docutils literal"><span class="pre">lon</span></code> and <code class="docutils literal"><span class="pre">lat</span></code>,</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pygridgen.grid.CGrid_geo.dx">
<code class="descname">dx</code><a class="headerlink" href="#pygridgen.grid.CGrid_geo.dx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid_geo.dy">
<code class="descname">dy</code><a class="headerlink" href="#pygridgen.grid.CGrid_geo.dy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid_geo.lon">
<code class="descname">lon</code><a class="headerlink" href="#pygridgen.grid.CGrid_geo.lon" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for lon_vert</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.CGrid_geo.lat">
<code class="descname">lat</code><a class="headerlink" href="#pygridgen.grid.CGrid_geo.lat" title="Permalink to this definition">¶</a></dt>
<dd><p>Shorthand for lat_vert</p>
</dd></dl>

<dl class="method">
<dt id="pygridgen.grid.CGrid_geo.mask_polygon_geo">
<code class="descname">mask_polygon_geo</code><span class="sig-paren">(</span><em>lonlat_verts</em>, <em>mask_value=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#CGrid_geo.mask_polygon_geo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.CGrid_geo.mask_polygon_geo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pygridgen.grid.Gridgen">
<em class="property">class </em><code class="descclassname">pygridgen.grid.</code><code class="descname">Gridgen</code><span class="sig-paren">(</span><em>xbry</em>, <em>ybry</em>, <em>beta</em>, <em>shape</em>, <em>ul_idx=0</em>, <em>focus=None</em>, <em>proj=None</em>, <em>nnodes=14</em>, <em>precision=1e-12</em>, <em>nppe=3</em>, <em>newton=True</em>, <em>thin=True</em>, <em>checksimplepoly=True</em>, <em>verbose=False</em>, <em>autogen=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#Gridgen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.Gridgen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pygridgen.grid.CGrid" title="pygridgen.grid.CGrid"><code class="xref py py-class docutils literal"><span class="pre">pygridgen.grid.CGrid</span></code></a></p>
<p>Main class for curvilinear-orthogonal grid generation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xbry, ybry</strong> : array-like</p>
<blockquote>
<div><p>One dimensional sequences of the x- and y-coordinates of the
grid boundary.</p>
</div></blockquote>
<p><strong>beta</strong> : array-like</p>
<blockquote>
<div><p>Turning values of each coordinate defined by <code class="docutils literal"><span class="pre">xbry</span></code> and
<code class="docutils literal"><span class="pre">ybry</span></code>. The sum of all beta values must equal 4. If you think
about this like the right-hand rule of basic physics, positive
turning points (+1) face up and work to close the boundary
polygon. Negative turning points (-1) open it up (e.g., to
define a side channel or other complexity). In between these
points, neutral points should be assigned a value of 0.</p>
</div></blockquote>
<p><strong>shape</strong> : two-tuple of ints (ny, nx)</p>
<blockquote>
<div><p>The number of cells that would cover the full spatial extent of
the grid in standard C-order (i.e., rows, then columns).</p>
</div></blockquote>
<p><strong>ul_idx</strong> : optional int (default = 0)</p>
<blockquote>
<div><p>The index of the what should be considered the upper left corner
of the grid boundary in the <code class="docutils literal"><span class="pre">xbry</span></code>, <code class="docutils literal"><span class="pre">ybry</span></code>, and <cite>beta</cite>
inputs. This is actually more arbitrary than it sounds. Put it
some place convenient for you, and the algorithm will
conceptually rotate the boundary to place this point in the
upper left corner. Keep that in mind when specifying the shape
of the grid.</p>
</div></blockquote>
<p><strong>focus</strong> : <a class="reference internal" href="#pygridgen.grid.Focus" title="pygridgen.grid.Focus"><code class="xref py py-class docutils literal"><span class="pre">Focus</span></code></a>, optional</p>
<blockquote>
<div><p>A focus object to tighten/loosen the grid in certain sections.</p>
</div></blockquote>
<p><strong>proj</strong> : pyproj.Proj, optional</p>
<blockquote>
<div><p>A pyproj projection to be used to convert lat/lon coordinates
to a projected (Cartesian) coordinate system (e.g., UTM, state
plane).</p>
</div></blockquote>
<p><strong>nnodes</strong> : int, optional (default = 14)</p>
<blockquote>
<div><p>The number of nodes used in grid generation. This affects the
precision and computation time. A rule of thumb is that this
should be equal to or slightly larger than <cite>-log10(precision)</cite>.</p>
</div></blockquote>
<p><strong>precision</strong> : float, optional (default = 1.0e-12)</p>
<blockquote>
<div><p>The precision with which the grid is generated. The default
value is good for lat/lon coordinate (i.e., smaller magnitudes
of boundary coordinates). You can relax this to e.g., 1e-3 when
working in state plane or UTM grids and you&#8217;ll typically get
better performance.</p>
</div></blockquote>
<p><strong>nppe</strong> : int, optional (default = 3)</p>
<blockquote>
<div><p>The number of points per internal edge. Lower values will
coarsen the image.</p>
</div></blockquote>
<p><strong>newton</strong> : bool, optional (default = True)</p>
<blockquote>
<div><p>Toggles the use of Gauss-Newton solver with Broyden update to
determine the sigma values of the grid domains. If False simple
iterations will be used instead.</p>
</div></blockquote>
<p><strong>thin</strong> : bool, optional (default = True)</p>
<blockquote>
<div><p>Toggle to True when the (some portion of) the grid is generally
narrow in one dimension compared to another.</p>
</div></blockquote>
<p><strong>checksimplepoly</strong> : bool, optional (default = True)</p>
<blockquote>
<div><p>Toggles a check to confirm that the boundary inputs form a valid
geometry.</p>
</div></blockquote>
<p><strong>verbose</strong> : bool, optional (default = True)</p>
<blockquote>
<div><p>Toggles the printing of console statements to track the progress
of the grid generation.</p>
</div></blockquote>
<p><strong>autogen</strong> : bool, optional (default = True)</p>
<blockquote class="last">
<div><p>Toggles the automatic generation of the grid. Set to False if
you want to delay calling the <code class="docutils literal"><span class="pre">generate_grid</span></code> method.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pygridgen.grid.Gridgen.sigmas">
<code class="descname">sigmas</code><a class="headerlink" href="#pygridgen.grid.Gridgen.sigmas" title="Permalink to this definition">¶</a></dt>
<dd><p>Some weird intermediate value that takes a long time to the
C code to compute with complex boundaries.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.Gridgen.nsigmas">
<code class="descname">nsigmas</code><a class="headerlink" href="#pygridgen.grid.Gridgen.nsigmas" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of sigma values.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.Gridgen.nx">
<code class="descname">nx</code><a class="headerlink" href="#pygridgen.grid.Gridgen.nx" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of nodes in the x-direction (columns).</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.Gridgen.ny">
<code class="descname">ny</code><a class="headerlink" href="#pygridgen.grid.Gridgen.ny" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of nodes in the y-direction (rows).</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.Gridgen.shape">
<code class="descname">shape</code><a class="headerlink" href="#pygridgen.grid.Gridgen.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the overall grid (row, columns).</p>
</dd></dl>

<dl class="attribute">
<dt id="pygridgen.grid.Gridgen.focus">
<code class="descname">focus</code><a class="headerlink" href="#pygridgen.grid.Gridgen.focus" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pygridgen.grid.Focus" title="pygridgen.grid.Focus"><code class="xref py py-class docutils literal"><span class="pre">Focus</span></code></a> object associated with the grid.</p>
</dd></dl>

<dl class="method">
<dt id="pygridgen.grid.Gridgen.generate_grid">
<code class="descname">generate_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#Gridgen.generate_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.Gridgen.generate_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>The business end of this whole thing. Collects all of the
inputs, passes them to the gridgen-c code, and returns arrays
of node coordinates. Unless <code class="docutils literal"><span class="pre">autogen</span></code> was set to False, this
happens when the object is instantiated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pygridgen.grid.rho_to_vert">
<code class="descclassname">pygridgen.grid.</code><code class="descname">rho_to_vert</code><span class="sig-paren">(</span><em>xr</em>, <em>yr</em>, <em>pm</em>, <em>pn</em>, <em>ang</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#rho_to_vert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.rho_to_vert" title="Permalink to this definition">¶</a></dt>
<dd><p>Possibly converts centroids to nodes</p>
</dd></dl>

<dl class="function">
<dt id="pygridgen.grid.uvp_masks">
<code class="descclassname">pygridgen.grid.</code><code class="descname">uvp_masks</code><span class="sig-paren">(</span><em>rmask</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pygridgen/grid.html#uvp_masks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pygridgen.grid.uvp_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>return u-, v-, and psi-masks based on input rho-mask</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>rmask</strong> : ndarray</p>
<blockquote>
<div><p>mask at CGrid rho-points</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>(umask, vmask, pmask)</strong> : ndarrays</p>
<blockquote class="last">
<div><p>masks at u-, v-, and psi-points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="csa.html" class="btn btn-neutral float-right" title="The csa API">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../tutorial/gridgen_examples.html" class="btn btn-neutral" title="Examples from the gridgen-c library"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Robert Hetland.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>